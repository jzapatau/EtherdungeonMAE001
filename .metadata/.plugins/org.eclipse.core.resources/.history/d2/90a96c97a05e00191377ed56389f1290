// --------------------------------------------------------
// Code generated by Papyrus Java
// --------------------------------------------------------

package MAE1Project;

/************************************************************/
/**
 * @author Felix Zapata
 * Date: 14/04/2019
 * 
 * Attack class is a concrete class derived from Action which related to the 
 * attack performance.
 * 
 */
public class Attack extends Action {

	// --------------------------- METHODS ------------------------------ //
	
	public Attack(Individual performer) {
		super("ATTACK", performer);
	}

	@Override
	public void execute(Individual victim) {
		// Implement the attack action
		
		// Start with the attack string
		String out = "";
		
		// Check if the victim will dodge the attack, if it doesn't then
		// perform the action over the victim
		if (!(victim.willDodgeAttack())) {
			
			// Perform the action on the victim
			this.getMyPerformer().performAction(victim);
			
			// Complete the out string
			out += String.format("%s has succesfully attacked %s", this.getMyPerformer().presentationCard(),
					victim.presentationCard());
		}
		else {

			// If the victim manages to dodge the attack then print accordingly
			out += String.format("the attack from %s to %s has been dodged", this.getMyPerformer().presentationCard(),
					victim.presentationCard());
		}
		
		// Print the message to the screen
		this.getMyPerformer().getUi().printToScreen(out);
		
		// If the victim is to retaliate then call its method and pass the performer of the action
		victim.retaliate(this.getMyPerformer());
		
	}
	

	
	
	
};
